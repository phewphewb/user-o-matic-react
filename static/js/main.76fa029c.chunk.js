(this["webpackJsonpuser-o-matic"]=this["webpackJsonpuser-o-matic"]||[]).push([[0],{48:function(e,t,n){e.exports=n(93)},53:function(e,t,n){},58:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),l=n.n(c),u=(n(53),n(13)),s=n(5),o=n(16),i=(n(58),function(){return r.a.createElement("div",{className:"not-available__container"},r.a.createElement("h1",{className:"not-available__title"},"Mobile version is in development."))}),m=n(15),d={FETCH_USERS_PENDING:"FETCH_USERS_PENDING",FETCH_USERS_FULFILLED:"FETCH_USERS_FULFILLED",FETCH_USERS_FAILED:"FETCH_USERS_FAILED",LOAD_USERS:"LOAD_USERS",LOAD_NEXT_PAGE:"LOAD_NEXT_PAGE",TOGGLE_SELECT_USER:"TOGGLE_SELECT_USER",fetchUsersPending:function(){return{type:d.FETCH_USERS_PENDING}},fetchUsersFulfilled:function(e,t){return{type:d.FETCH_USERS_FULFILLED,payload:{users:t}}},fetchUsersFailed:function(e){return{type:d.FETCH_USERS_FAILED,payload:{message:e}}},loadUsers:function(e){return{type:d.LOAD_USERS,payload:{page:e}}},loadNextPage:function(){return{type:d.LOAD_NEXT_PAGE}},toggleSelectUser:function(e,t){return{type:d.TOGGLE_SELECT_USER,payload:{id:e,time:t}}}},f={fulfilled:d.fetchUsersFulfilled,pending:d.fetchUsersPending,failed:d.fetchUsersFailed},E=n(23),p=n(17),v={error:null,page:0,users:{},userIds:[],selectedTimes:{},selectedIds:[]};function b(e,t,n){var a=Object(p.a)({},e.selectedTimes),r=Object(E.a)(e.selectedIds);return e.selectedIds.find((function(e){return e===t}))?(r=e.selectedIds.filter((function(e){return e!==t})),delete a[t]):(r.push(t),a[t]=n),Object(p.a)(Object(p.a)({},e),{},{selectedIds:r,selectedTimes:a})}var h=n(6),O=n.n(h),g=n(14),j=n(18),_=n(47),S=n(27),w=n(43),N=n.n(w),k="?results=".concat(30,"&page="),C=function(e){return e.data},L=function(e){return y({url:"https://randomuser.me/api/",paginate:!0,page:e,parseResponse:function(e){return e.data.results}})};function y(e){return U.apply(this,arguments)}function U(){return(U=Object(S.a)(O.a.mark((function e(t){var n,a,r,c,l,u,s,o,i,m;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.method,a=void 0===n?"get":n,r=t.data,c=t.parseResponse,l=void 0===c?C:c,u=Object(_.a)(t,["method","data","parseResponse"]),s=I(u),o={headers:{Accept:"application/json"}},e.next=6,N.a[a](s,r,o);case 6:return i=e.sent,m=l(i),e.abrupt("return",m);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){var t=e.paginate,n=e.page,a=e.query,r=e.url,c=[];return t&&c.push(k+n),a&&c.push(a),c.length&&(r+=c.join("&")),r}var T=O.a.mark(x);function x(e,t,n,a){var r;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(j.d)(t.pending(n));case 3:return c.next=5,Object(j.b)(e,a||n);case 5:return r=c.sent,c.next=8,Object(j.d)(t.fulfilled(n,r));case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(0),c.next=14,Object(j.d)(t.failed(c.t0));case 14:case"end":return c.stop()}}),T,null,[[0,10]])}var R=x.bind(null,L,f),F=O.a.mark(P),A=O.a.mark(H),D=O.a.mark(B),G=O.a.mark(M);function P(e){var t,n,a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(g.d)((function(e){return e.users}));case 3:if(n=r.sent,n.userIds.length){r.next=9;break}return a=t.page,r.next=9,Object(g.b)(R,a);case 9:case"end":return r.stop()}}),F)}function H(){var e,t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(g.d)((function(e){return e.users}));case 2:return e=n.sent,t=e.page,n.next=6,Object(g.b)(R,t);case 6:case"end":return n.stop()}}),A)}function B(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.f)(d.LOAD_USERS,P);case 2:case"end":return e.stop()}}),D)}function M(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.e)(d.LOAD_NEXT_PAGE,H);case 2:case"end":return e.stop()}}),G)}var W=[Object(g.c)(B),Object(g.c)(M)],X=Object(m.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.FETCH_USERS_FULFILLED:var n=Object(p.a)({},e.users),a=Object(E.a)(e.userIds);return t.payload.users.forEach((function(e){n[e.login.uuid]=e,a.push(e.login.uuid)})),Object(p.a)(Object(p.a)({},e),{},{users:n,userIds:a,error:null,page:e.page+1});case d.FETCH_USERS_FAILED:return Object(p.a)(Object(p.a)({},e),{},{error:t.payload.error});case d.TOGGLE_SELECT_USER:return b(e,t.payload.id,t.payload.time);default:return e}}}),z=n(46),J=O.a.mark(q);function q(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)(Object(E.a)(W));case 2:case"end":return e.stop()}}),J)}var V=n(44),$=Object(z.a)(),K=Object(m.createStore)(X,Object(V.composeWithDevTools)(Object(m.applyMiddleware)($)));$.run(q);var Q=K,Y=n(11),Z=function(e){if(!e)return null;var t=e.getHours(),n=e.getMinutes(),a=e.getSeconds(),r="";return r+=(t<10?"0":"")+t,r+=(n<10?":0":":")+n,r+=(a<10?":0":":")+a};n(77);function ee(e){var t=e.imageUrl;return r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{alt:"user-avatar",src:t}))}n(78);var te=function(e){var t=e.title,n=e.value,a=e.children;return r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"user-details__title"},t),r.a.createElement("span",{className:"user-details__value"},n,a))},ne=function(){var e=Object(s.h)().id,t=Object(u.c)((function(e){return e.users})).users[e];if(!t)return r.a.createElement("p",null,"Not found");var n=t.picture,a=t.name,c=t.email,l=t.cell,o=t.location,i=t.dob,m=t.gender;return r.a.createElement("div",{className:"col user-details__container"},r.a.createElement(ee,{imageUrl:n.thumbnail}),r.a.createElement("h2",{className:"user-details__header"},"".concat(a.first," ").concat(a.last)),r.a.createElement("div",{className:"col"},r.a.createElement(te,{title:"Email: ",value:c}),r.a.createElement(te,{title:"Cell: ",value:l}),r.a.createElement(te,{title:"Birth: ",value:i.date}),r.a.createElement(te,{title:"Age: ",value:i.age}),r.a.createElement(te,{title:"Gender: ",value:m}),r.a.createElement(te,{title:"Address: "},r.a.createElement("p",null,"".concat(o.street.number," ").concat(o.street.name)," "),r.a.createElement("p",null,"".concat(o.city," ").concat(o.state," ").concat(o.country)," "),r.a.createElement("p",null,"".concat(o.postcode)," "))))},ae=(n(80),function(e){var t=e.onClick;return r.a.createElement("div",{id:"backdrop",className:"backdrop",onClick:t})}),re=document.getElementById("modal"),ce=function(e){var t=e.children,n=document.createElement("div");return Object(a.useEffect)((function(){return re.appendChild(n),function(){re.removeChild(n)}}),[]),Object(c.createPortal)(t,n)},le=(n(81),function(e){var t=e.children,n=e.onClickAway;return r.a.createElement(ce,null,r.a.createElement(ae,{onClick:n}),r.a.createElement("div",{className:"modal-background"},r.a.createElement("div",{className:"modal-container"},t)))}),ue=function(){var e=function(){var e=Object(a.useState)(""),t=Object(Y.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){r(Z());var e=setInterval((function(){var e=new Date,t=Z(e);r(t)}),250);return function(){clearInterval(e)}}),[]),n}();return r.a.createElement("span",null,e)},se=n(45),oe=n.n(se),ie=(n(82),Object(a.forwardRef)((function(e,t){var n=e.title,a=e.id,c=e.disabled,l=e.active,u=e.children,s=e.onClick;return r.a.createElement("button",{ref:t,id:a,disabled:c,className:oe()("button-base",{active:l}),onClick:s},n,u)}))),me=function(){var e=Object(u.c)((function(e){return e.users})),t=e.userIds,n=e.selectedIds;return r.a.createElement("div",{className:"col"},r.a.createElement("span",{className:"title"},"Loaded users:\xa0","".concat(t.length)),r.a.createElement("span",{className:"title"},"Selected users:\xa0","".concat(n.length)))};n(83);var de=function(){var e=Object(s.f)();return r.a.createElement("header",null,r.a.createElement("div",{className:"col left-panel"},r.a.createElement(ue,null),r.a.createElement(me,null)),r.a.createElement("div",{className:"central-panel"},r.a.createElement("h1",null,"User App")),r.a.createElement("div",{className:"right-panel"},r.a.createElement("div",{className:"row"},r.a.createElement(ie,{onClick:function(){var e=document.getElementById("lt-theme"),t=document.getElementById("dt-theme");function n(n){t.disabled=!n,e.disabled=n}"dt"===localStorage.getItem("theme")?(localStorage.setItem("theme","lt"),n(!1)):(localStorage.setItem("theme","dt"),n(!0))}},"Toggle theme"),"/"!==e.location.pathname&&r.a.createElement(ie,{title:"Back",onClick:function(){e.goBack()}}))))},fe=(n(84),function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("span",null,r.a.createElement("strong",null,r.a.createElement(o.b,{to:"/"},"User App"))," ","by Valentyn Patsera. All Rights Reserved."))});n(85);function Ee(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,null),r.a.createElement("main",null,t),r.a.createElement(fe,null))}n(86);var pe=function(e){return r.a.createElement("input",e)},ve=(n(87),function(e){var t=e.title,n=e.loading,a=e.children,c=e.onLoadMore;return r.a.createElement("div",{className:"tab"},r.a.createElement("h3",{className:"subtitle"},t),a,c&&r.a.createElement("div",{className:"tab__load-more"},n?r.a.createElement("p",null,"Loading..."):r.a.createElement(ie,{ref:null,title:"Load more",onClick:c})))}),be=(n(88),r.a.memo((function(e){var t=e.user,n=e.time,a=e.showButtons,c=e.clickSelect,l=t.picture,u=t.name,i=t.login,m=Object(s.i)().path,d=Object(s.g)();return r.a.createElement("li",{className:"user-li__container",id:i.uuid},r.a.createElement(ee,{imageUrl:l.thumbnail}),r.a.createElement("div",{className:"user-li__content"},r.a.createElement(o.b,{className:"user-li__title",to:m+"user/".concat(i.uuid)},r.a.createElement("h4",null,u.first," ",u.last)),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"text-secondary caption"},n," \xa0"),r.a.createElement("div",{className:"user-li__btn-container"},r.a.createElement(ie,{id:i.uuid,onClick:c,title:n?"Deselect":"Select"}),r.a.createElement(o.b,{to:{pathname:"/user/".concat(i.uuid),state:{background:d}}},r.a.createElement(ie,{title:"Modal"}))))))}),(function(e,t){return!e.time&&!t.time}))),he=(n(89),function(e){return Object(a.forwardRef)((function(t,n){var c=Object(a.useState)(!1),l=Object(Y.a)(c,2),u=l[0],s=l[1],o=Object(a.useRef)(null),i=Object(a.useRef)(null),m=function(){return s(!0),new Promise((function(e,t){o.current=e,i.current=t}))},d=function(){s(!1),i.current("Closed by parent")};Object(a.useImperativeHandle)(n,(function(){return{open:m,close:d}}));return u?r.a.createElement(e,Object.assign({reject:function(e){s(!1),i.current(e)},resolve:function(e){s(!1),o.current(e)}},t)):null}))}),Oe=(n(90),he((function(e){var t=e.resolve,n=e.reject;return r.a.createElement(le,{onClickAway:function(){return n("Click away")},className:"conf-popup"},r.a.createElement("span",{className:"conf-popup__title"},"Are you sure?"),r.a.createElement("div",{className:"conf-popup__btns"},r.a.createElement(ie,{onClick:function(){return n("Cancel")}},"Cancel"),r.a.createElement(ie,{onClick:function(){return t(!0)}},"Ok")))})));function ge(e){var t=e.selectedTimes,n=e.users,c=e.filteredIds,l=Object(u.b)(),s=Object(a.useRef)(null),o=Object(a.useCallback)(function(){var e=Object(S.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new Date).getTime(),a=t.target.id,e.prev=2,e.next=5,s.current.open();case 5:e.sent&&l(d.toggleSelectUser(a,n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.warn(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),[l]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"col user-list__container"},c.map((function(e){var a=n[e],c=null,l=t[e];if(l){var u=new Date(l);c=Z(u)}return r.a.createElement(be,{key:a.login.uuid,user:a,time:c,clickSelect:o,showButtons:!0})}))),r.a.createElement(Oe,{ref:s}))}n(91);var je=function(e,t,n){var a=n.trim().toLowerCase();return""===a?e:e.filter((function(e){var n=t[e];return-1!==n.name.first.toLowerCase().indexOf(a)||-1!==n.name.last.toLowerCase().indexOf(a)}))},_e=function(){var e=Object(u.b)(),t=function(){var e=Object(a.useState)(""),t=Object(Y.a)(e,2),n=t[0],r=t[1],c=Object(a.useRef)();return{search:n,handleSearchChange:function(e){var t=e.target.value;c.current&&clearTimeout(c.current);var n=setTimeout((function(){r(t)}),250);c.current=n}}}(),n=t.search,c=t.handleSearchChange,l=Object(u.c)((function(e){return e.users})),s=l.users,o=l.userIds,i=l.selectedIds,m=l.selectedTimes,f=Object(a.useMemo)((function(){return je(o,s,n)}),[n,s,o]),E=Object(a.useMemo)((function(){return je(i,s,n).sort((function(e,t){var n=m[e];return m[t]-n}))}),[n,s,i,m]);return Object(a.useEffect)((function(){e(d.loadUsers(1))}),[e]),r.a.createElement("div",{className:"col user-table__container"},r.a.createElement("div",null,r.a.createElement(pe,{placeholder:"Search",onChange:c})),r.a.createElement("div",{className:"row"},r.a.createElement(ve,{onLoadMore:function(){e(d.loadNextPage())},title:"All users"},r.a.createElement(ge,{selectedTimes:m,users:s,filteredIds:f})),r.a.createElement(ve,{title:"Selected users"},r.a.createElement(ge,{selectedTimes:m,users:s,filteredIds:E}))))},Se=function(){var e=Object(s.g)(),t=Object(s.f)(),n=Object(s.i)().url,a=e.state&&e.state.background;return r.a.createElement(Ee,null,r.a.createElement(s.c,{location:a||e},r.a.createElement(s.a,{exact:!0,path:n,component:_e}),r.a.createElement(s.a,{exact:!0,path:n+"user/:id",component:ne})),a&&r.a.createElement(s.a,{exact:!0,path:n+"user/:id"},r.a.createElement(le,{onClickAway:function(e){e.stopPropagation(),t.goBack()}},r.a.createElement(ne,null))))},we=(n(92),r.a.lazy((function(){return n.e(3).then(n.bind(null,95))}))),Ne=function(){return r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",component:Se}),r.a.createElement(s.a,{path:"*"},r.a.createElement(we,null)))};var ke=function(){var e=function(){var e=Object(a.useState)(!1),t=Object(Y.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=function(){var e=window.innerWidth;e<=768&&!n?r(!0):e>=768&&n&&r(!1)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[n]),{isMobile:n}}().isMobile;return r.a.createElement(u.a,{store:Q},r.a.createElement(o.a,{basename:"/"},r.a.createElement(a.Suspense,{fallback:r.a.createElement("p",null,"Loading...")},e&&r.a.createElement(i,null),r.a.createElement(Ne,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.76fa029c.chunk.js.map